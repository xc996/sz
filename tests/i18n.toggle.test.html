<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>i18n 切换测试</title>
  <link rel="stylesheet" href="../assets/css/attractions.css">
  <link rel="stylesheet" href="../assets/css/detail.css">
</head>
<body data-theme="light" data-lang="zh">
  <nav id="navbar"><div class="nav-container"><div class="logo"><img src="../assets/images/深圳logo.png" alt="深圳" class="logo-icon" style="height: 30px; width: auto;"><span class="logo-text" data-i18n="nav.logo">深圳</span></div><ul class="nav-menu" id="navMenu"></ul><div class="nav-actions"><button id="langSwitch" class="icon-btn"><i class="fas fa-globe"></i><span>EN</span></button><button id="themeToggle" class="icon-btn"><i class="fas fa-moon"></i></button><button id="menuToggle" class="menu-toggle"><span></span><span></span><span></span></button></div></div></nav>
  <section class="attraction-detail-section"><div class="container"><div id="detailRoot"></div></div></section>
  <button id="backToTop" class="back-to-top"><i class="fas fa-arrow-up"></i></button>

  <script src="../assets/vendor/aos.js"></script>
  <script src="../assets/js/attractions.js"></script>
  <script src="../assets/js/detail.js"></script>
  <script>history.replaceState(null, '', '?slug=centralbookcity');</script>
  <script src="../assets/js/detail.render.js"></script>
  <script>
  /**
   * 功能：语言切换断言（中文注释）
   * 说明：点击语言按钮后，标题应切换为英文
   */
  function assertI18nToggle() {
    const btn = document.getElementById('langSwitch');
    const before = document.querySelector('.detail-title')?.textContent || '';
    btn.click();
    setTimeout(() => {
      const after = document.querySelector('.detail-title')?.textContent || '';
      console.assert(after !== before, '语言切换未生效');
      const ok = document.createElement('div');
      ok.id = 'i18n-test-passed';
      ok.textContent = 'i18n 切换通过';
      ok.style.cssText = 'position:fixed;bottom:10px;right:10px;background:#0a0;color:#fff;padding:6px 10px';
      document.body.appendChild(ok);
    }, 300);
  }
  document.addEventListener('DOMContentLoaded', () => setTimeout(assertI18nToggle, 500));
  </script>
</body>
</html>
